<!DOCTYPE html>
<html>
<head>
    <link rel="stylesheet" type="text/css" href="redline-map.css" />
    <title>MBTA Red Line</title>
    <meta charset="utf-8" />
    <script src="http://maps.googleapis.com/maps/api/js?sensor=true&amp;libraries=places"></script>
</head>

<body>
    <div id="redline_map"></div>
    <script>
    var map;
    var trainListener = new XMLHttpRequest();
    trainListener.open("get", "http://developer.mbta.com/lib/rthr/red.json", true);
    trainListener.onreadystatechange = function() {
        if (trainListener.readyState == 4 && trainListener.status == 200) {
            console.log(trainListener.responseText);
        }
    }
    trainListener.send();

    function initialize() {
        var mapOptions = {
            center: { lat: 42.309562, lng: -71.054163},  //  Approx. center of red line
            zoom: 11
        };
        map = new google.maps.Map(document.getElementById("redline_map"),
            mapOptions);
    }
    google.maps.event.addDomListener(window, 'load', initialize);
    </script>
</body>
</html>
